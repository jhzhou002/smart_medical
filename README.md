# åŒ»ç–—å¤šæ¨¡æ€æ™ºèƒ½åˆ†æå¹³å°
### Smart Medical Multimodal Analysis Platform

![License](https://img.shields.io/badge/license-MIT-blue.svg)
![Node.js](https://img.shields.io/badge/node-%3E%3D18.0.0-brightgreen.svg)
![OpenTenBase](https://img.shields.io/badge/OpenTenBase-AI%20Plugin-orange.svg)
![PL/pgSQL](https://img.shields.io/badge/PL%2FpgSQL-982%20lines-blue.svg)
![Vue3](https://img.shields.io/badge/Vue-3.x-42b883.svg)

> åŸºäº **OpenTenBase åˆ†å¸ƒå¼æ•°æ®åº“**åŠå…¶ **AI æ’ä»¶ï¼ˆopentenbase_aiï¼‰**çš„åŒ»ç–—å¤šæ¨¡æ€æ™ºèƒ½åˆ†æç³»ç»Ÿ
>
> å°† AI èƒ½åŠ›å†…ç½®äºæ•°æ®åº“å±‚,é€šè¿‡ **PL/pgSQL å­˜å‚¨è¿‡ç¨‹**å®ç°**ç—…å†æ–‡æœ¬ã€CT å½±åƒã€å®éªŒå®¤æŒ‡æ ‡ã€æ‚£è€…ä¿¡æ¯**å››ç§æ¨¡æ€æ•°æ®çš„**ç»“æ„åŒ–å…³è”åˆ†æ**

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåˆ›æ–°çš„åŒ»ç–—æ™ºèƒ½åˆ†æå¹³å°ï¼Œé€šè¿‡å°† AI èƒ½åŠ›å†…ç½®äºæ•°æ®åº“å±‚ï¼Œå®ç°äº†é«˜æ•ˆçš„å¤šæ¨¡æ€æ•°æ®åˆ†æã€‚ç³»ç»Ÿå°† **OpenTenBase åˆ†å¸ƒå¼æ•°æ®åº“**ä¸ **AI æ’ä»¶ï¼ˆopentenbase_aiï¼‰** æ·±åº¦ç»“åˆï¼Œåˆ©ç”¨ **PL/pgSQL å­˜å‚¨è¿‡ç¨‹** å®Œæˆå¤æ‚çš„åŒ»ç–—æ•°æ®åˆ†æä»»åŠ¡ã€‚

### æ ¸å¿ƒäº®ç‚¹

- âœ… **4ç§æ¨¡æ€æ•°æ®æ•´åˆ**ï¼šç—…å†æ–‡æœ¬ã€CTå½±åƒã€å®éªŒå®¤æŒ‡æ ‡ã€æ‚£è€…ä¿¡æ¯
- âœ… **æ•°æ®åº“ç«¯ AI åˆ†æ**ï¼šAI èƒ½åŠ›å†…ç½®æ•°æ®åº“ï¼Œå‡å°‘ 75% ç½‘ç»œå¾€è¿”
- âœ… **982è¡Œ PL/pgSQL ä»£ç **ï¼š10ä¸ªæ ¸å¿ƒå­˜å‚¨å‡½æ•°å®Œæˆæ™ºèƒ½è¯Šæ–­å…¨æµç¨‹
- âœ… **åŠ¨æ€åŠ æƒæœºåˆ¶**ï¼šæ ¹æ®æ•°æ®è´¨é‡è‡ªé€‚åº”è°ƒæ•´å„æ¨¡æ€æƒé‡
- âœ… **å¼‚å¸¸ä¸¥é‡ç¨‹åº¦åˆ†çº§**ï¼šåŸºäºç»Ÿè®¡å­¦ Ïƒ åç¦»åº¦çš„ä¸‰çº§åˆ†ç±»ï¼ˆè½»å¾®/ä¸­åº¦/ä¸¥é‡ï¼‰
- âœ… **ç½®ä¿¡åº¦æ ¡å‡†ä¼˜åŒ–**ï¼šä¿å®ˆç­–ç•¥ + 92% ç¡¬æ€§ä¸Šé™ï¼Œæ°¸ä¸è¾¾ 100%
- âœ… **å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—**ï¼šé•¿æ—¶é—´ AI åˆ†æä¸é˜»å¡å‰ç«¯ï¼Œæµç•…ç”¨æˆ·ä½“éªŒ

---

## ğŸ’¡ æ ¸å¿ƒåŠŸèƒ½

| åŠŸèƒ½ | æŠ€æœ¯å®ç° | ç‰¹è‰² |
|-----|---------|-----|
| ğŸ¤– **æ™ºèƒ½è¯Šæ–­** | PL/pgSQL å­˜å‚¨è¿‡ç¨‹ | èåˆå¤šæ¨¡æ€æ•°æ®ï¼Œç”Ÿæˆç»“æ„åŒ–è¯Šæ–­æŠ¥å‘Š |
| âš¡ **å¼‚æ­¥ä»»åŠ¡é˜Ÿåˆ—** | åå°ä»»åŠ¡ + è½®è¯¢æœºåˆ¶ | é•¿æ—¶é—´AIåˆ†æä¸é˜»å¡å‰ç«¯ï¼Œç”¨æˆ·ä½“éªŒæµç•… |
| âš–ï¸ **åŠ¨æ€åŠ æƒ** | æ•°æ®è´¨é‡è¯„ä¼° + æƒé‡è‡ªé€‚åº”è°ƒæ•´ | æ ¹æ®æ•°æ®å®Œæ•´æ€§è‡ªåŠ¨è°ƒæ•´å„æ¨¡æ€æƒé‡ |
| ğŸ¯ **å¼‚å¸¸ä¸¥é‡ç¨‹åº¦åˆ†çº§** | ç»Ÿè®¡å­¦Ïƒåç¦»åº¦è®¡ç®— | è½»å¾®/ä¸­åº¦/ä¸¥é‡ä¸‰çº§åˆ†ç±»ï¼Œè¾…åŠ©ä¸´åºŠå†³ç­– |
| ğŸ“Š **ç½®ä¿¡åº¦æ ¡å‡†** | ä¿å®ˆç­–ç•¥ + 92%ç¡¬æ€§ä¸Šé™ | æ°¸ä¸è¾¾100%ï¼Œä¿ç•™åˆç†ä¸ç¡®å®šæ€§ |
| ğŸ” **è¯æ®æº¯æº** | JSONB å­˜å‚¨ | è‡ªåŠ¨æå–è¯Šæ–­ä¾æ®ï¼Œå«æƒé‡å’Œæ•°æ®æ¥æº |
| ğŸ“„ **æŠ¥å‘Šå¯¼å‡º** | PDF ç”Ÿæˆï¼ˆV2æ¨¡æ¿ï¼‰ | å®Œæ•´åˆ†ææŠ¥å‘Šä¸€é”®å¯¼å‡ºï¼Œå«ä¸¥é‡ç¨‹åº¦è¡¨æ ¼ |

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿåˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å‰ç«¯å±‚ (Vue 3 + Element Plus)               â”‚
â”‚  æ‚£è€…ç®¡ç† | æ•°æ®ä¸Šä¼  | æ™ºèƒ½åˆ†æ | PDF å¯¼å‡º    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ HTTP REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åç«¯å±‚ (Node.js + Express)                  â”‚
â”‚  API è·¯ç”± | ä¸šåŠ¡æœåŠ¡ | ä¸ƒç‰›äº‘é›†æˆ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“ SQL
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®åº“å±‚ (OpenTenBase + AI æ’ä»¶)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ PL/pgSQL æ™ºèƒ½åˆ†æå¼•æ“ (982 è¡Œ)    â”‚     â”‚
â”‚  â”‚ - å¤šæ¨¡æ€å…³è”æŸ¥è¯¢                   â”‚     â”‚
â”‚  â”‚ - æ•°æ®è´¨é‡è¯„ä¼°ï¼ˆåŠ¨æ€åŠ æƒï¼‰         â”‚     â”‚
â”‚  â”‚ - å¼‚å¸¸ä¸¥é‡ç¨‹åº¦åˆ†çº§ï¼ˆÏƒåç¦»åº¦ï¼‰      â”‚     â”‚
â”‚  â”‚ - ç½®ä¿¡åº¦æ ¡å‡†ï¼ˆ92%ä¸Šé™ï¼‰            â”‚     â”‚
â”‚  â”‚ - è¯æ®æå–ä¸æƒé‡è®¡ç®—               â”‚     â”‚
â”‚  â”‚ - AI è¯Šæ–­ç”Ÿæˆ                     â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ AI æ’ä»¶ (opentenbase_ai)          â”‚     â”‚
â”‚  â”‚ - ai.image() - OCR/å›¾åƒåˆ†æ        â”‚     â”‚
â”‚  â”‚ - ai.generate_text() - æ–‡æœ¬ç”Ÿæˆ    â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº‘å­˜å‚¨å±‚ (ä¸ƒç‰›äº‘ CDN)                       â”‚
â”‚  ç—…å†å›¾ç‰‡ | CT å½±åƒ | å®éªŒå®¤æŒ‡æ ‡è¡¨æ ¼          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯å±‚ | æŠ€æœ¯é€‰å‹ | ç‰ˆæœ¬/è¯´æ˜ |
|-------|---------|----------|
| **å‰ç«¯** | Vue 3 + Pinia + Element Plus + TailwindCSS | Composition API |
| **åç«¯** | Node.js + Express.js + Winston | >= 18.0.0 |
| **æ•°æ®åº“** | OpenTenBase (é›†ä¸­å¼ PostgreSQL) | AI æ’ä»¶æ”¯æŒ |
| **AI** | opentenbase_ai æ’ä»¶ | æ•°æ®åº“å†… AI è°ƒç”¨ |
| **å­˜å‚¨** | ä¸ƒç‰›äº‘å¯¹è±¡å­˜å‚¨ | CDN åŠ é€Ÿ |
| **ç®—æ³•** | Ïƒåç¦»åº¦å¼‚å¸¸æ£€æµ‹ + LATERAL JOIN | ç»Ÿè®¡å­¦ + SQL |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- OpenTenBase æ•°æ®åº“ï¼ˆå·²å®‰è£… `opentenbase_ai` æ’ä»¶ï¼‰
- ä¸ƒç‰›äº‘è´¦å·ï¼ˆå¯¹è±¡å­˜å‚¨ï¼‰

### ä¸€é”®å¯åŠ¨

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/jhzhou002/smart_medical.git
cd smart_medical

# 2. å¯åŠ¨åç«¯
cd backend
npm install
cp .env.example .env  # é…ç½®æ•°æ®åº“å’Œä¸ƒç‰›äº‘
npm run dev           # http://127.0.0.1:3000

# 3. å¯åŠ¨å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd frontend
npm install
npm run dev           # http://127.0.0.1:5173
```

### ç¯å¢ƒå˜é‡é…ç½®

**åç«¯ `.env` æ–‡ä»¶é…ç½®**ï¼š
```bash
# æ•°æ®åº“é…ç½®
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USER=username
DB_PASSWORD=password
DB_NAME=db

# ä¸ƒç‰›äº‘é…ç½®
QINIU_ACCESS_KEY=your_access_key
QINIU_SECRET_KEY=your_secret_key
QINIU_BUCKET=your_bucket_name
QINIU_DOMAIN=your_domain
```

**å‰ç«¯ç¯å¢ƒå˜é‡**ï¼š
- å¼€å‘ç¯å¢ƒï¼š`VITE_API_BASE_URL=/api`

---

## ğŸ“Š é¡¹ç›®ç»“æ„

```
smart_medical/
â”œâ”€â”€ frontend/                # Vue 3 å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ views/          # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/     # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ stores/         # Pinia çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ backend/                # Node.js åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ config/        # é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ routes/        # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ services/      # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ middleware/    # ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ utils/         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ scripts/           # æ•°æ®åº“è„šæœ¬
â”‚   â”‚   â””â”€â”€ smart_diagnosis_v3.sql  # PL/pgSQL è„šæœ¬ï¼ˆ982 è¡Œï¼‰
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ doc/                   # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ è®¾è®¡æ–‡æ¡£.md         # æ¶æ„è®¾è®¡ã€æ•°æ®åº“è®¾è®¡ã€ç®—æ³•è®¾è®¡
â”‚   â””â”€â”€ ä½¿ç”¨æ–‡æ¡£.md         # å®‰è£…éƒ¨ç½²ã€åŠŸèƒ½ä½¿ç”¨ã€API æ¥å£
â”‚
â”œâ”€â”€ CLAUDE.md              # Claude Code å¼€å‘æŒ‡å—
â”œâ”€â”€ AGENTS.md              # Agent é…ç½®
â””â”€â”€ README.md              # æœ¬æ–‡ä»¶
```

---

## ğŸ“– è¯¦ç»†æ–‡æ¡£

- **[è®¾è®¡æ–‡æ¡£](doc/è®¾è®¡æ–‡æ¡£.md)** - ç³»ç»Ÿæ¶æ„è®¾è®¡ã€æ•°æ®åº“è®¾è®¡ã€ç®—æ³•è®¾è®¡è¯¦è§£
- **[ä½¿ç”¨æ–‡æ¡£](doc/ä½¿ç”¨æ–‡æ¡£.md)** - å®‰è£…éƒ¨ç½²æŒ‡å—ã€åŠŸèƒ½ä½¿ç”¨è¯´æ˜ã€API æ¥å£æ–‡æ¡£

---

## ğŸ‘¥ å›¢é˜Ÿä¿¡æ¯

**å¼€å‘è€…**: å‘¨ä½³è±ª
**é‚®ç®±**: jhzhou0704@163.com
**GitHub**: [@jhzhou002](https://github.com/jhzhou002)

### è‡´è°¢

æ„Ÿè°¢ [OpenTenBase](https://github.com/OpenTenBase/OpenTenBase)ã€[å¼€æ”¾åŸå­å¼€æºåŸºé‡‘ä¼š](https://www.openatom.org/)ã€[ä¸ƒç‰›äº‘](https://www.qiniu.com/) çš„æ”¯æŒã€‚

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼**
